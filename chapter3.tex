\chapter{\simname} \label{idea}

本章では、学習者に物理系を定義させるシミュレータである \simname を紹介する。

\section{アイデア}
\simname の基本的なアイデアは、現実の物理現象と物理法則の間の対応を学習者自らの経験を通して理解することができるという点である。既存のシミュレータでは、教育者が物理法則から現象を数式で記述し、シミュレーションに変換する。学習者はシミュレーションを見ることで現実の物理現象を確認することができるが、それと物理法則との関係性は授業などで学ぶのみである(図~\ref{square_diagram_1})。\simname では、物理法則から現象を数式で記述し、シミュレーションに変換するまでの工程も学習者が行う。これにより、従来は授業などで教わる必要があった現実の物理現象と物理法則の間の対応を学習者自らの経験を通して理解することができると考えられる(図~\ref{square_diagram_2})。

\begin{figure}[htb]
  \centering
  \begin{minipage}{0.4\linewidth}
  \includegraphics*[width=\linewidth]{work/square_diagram_1-crop.pdf}
  \caption{既存のシミュレータによる理解} \label{square_diagram_1}
  \end{minipage}
  \quad
  \begin{minipage}{0.4\linewidth}
  \includegraphics*[width=\linewidth]{work/square_diagram_2-crop.pdf}
  \caption{\simname による理解} \label{square_diagram_2}
  \end{minipage}
  \end{figure}

\section{画面構成}

図~\ref{simsym_fig1}は、\simname 上で斜方投射のシミュレーションを作成した例である。\simname の画面は、図~\ref{simsym_fig1}のように左半分の物理系定義ペインと右半分の観測ペインに分かれている。物理系定義ペインで物体の作成や方程式の定義を行い、観測ペインでシミュレーションの結果を確認する。

\begin{figure}[bht]
  \centering
  \includegraphics*[width=\linewidth]{work/simsym_example-crop.pdf}
  \caption{\simname 上で斜方投射を表現した例} \label{simsym_fig1}
\end{figure}

\section{使用の流れ}
学習者は、以下に示す動作を順番に行うことで、物理系を定義しシミュレーションを作成することができる。

\begin{enumerate}
\item \textbf{物体名の入力}\\
学習者が物体名を入力すると、\simname がその物体を生成する。同時に、その物体に紐付いた物理量に対応する次元付き変数($m_A\mathrm{[M]}, x_A\mathrm{[L]}$ など\footnote{$\mathrm{M}$: Mass(質量), $\mathrm{L}$: Length(長さ), $\mathrm{T}$: Time(時間) などを次元と呼ぶ。例えば速度の次元は $\mathrm{[L/T]}$ と表される。})を生成する。
\item \textbf{動作例の選択(オプション)}\\
学習者は、作成した物体を選択した上で、現実の運動を正しく表現した動作例を選択することができる。動作例を選択した場合、その動作に必要な初期値を表す変数が物体に紐づく形で生成される。
\item \textbf{方程式の立式}\\
学習者は、1.と 2.で生成された変数を使って方程式を立式する。この際、物体に紐付く次元付き変数と、どの物体にも紐付かないグローバルな次元付き変数を自由に追加することができる。なお、時刻を表す変数 $t\mathrm{[T]}$ や重力加速度 $g\mathrm{[L/T^2]}$ などの物理定数はグローバルな変数として用意されている。
% また、$g + t$ は $\mathrm{[L/T^2]} + \mathrm{[T]}$ のように次元の一致しない加法であり、定義できない。このような方程式は警告される。
\item \textbf{観測対象の指定}\\
学習者は観測したい物体とその物理量(位置・速度・加速度)を指定する。物体の選択はドロップダウンリストで、物理量の選択はチェックボックスで行う。
\item \textbf{初期値の入力}\\
観測対象を指定した際に、その値を計算するために必要な変数が観測ペイン下部に表示される。描画の際には観測対象の数値的な情報が必要なので、これらに値を入力する必要がある。また、動作例の選択によって生成された変数に初期値を入力すると、その初期値に基づく動作例が破線で表示される。
\item \textbf{シミュレーションの再生}\\
シミュレーションを再生すると、時刻 $t$ が変化しながら観測対象の物理量が描画される。物体の位置は座標平面上の位置として、速度と加速度はベクトルとして描画される。またこの際、動作例と学習者が定義した物理系の運動を比較することで、現実と同じ運動を表現しているか確認することができる。
\end{enumerate}

\section{具体例:斜方投射}
以下では具体的な例として斜方投射を用い、 \simname の動作を見ていく。
図~\ref{simsym_fig1}は、\simname 上で $x$ 軸方向の初速が $v_{0x}$, $y$ 軸方向の初速が $v_{0y}$, 重力加速度の大きさが $g$ であるような斜方投射を表現した例である。
\begin{enumerate}
\item 物体 A を作成すると、物体 A の位置を表す変数 $x_A$, $y_A$ と、速度を表す変数 $v_{Ax}$, $v_{Ay}$ が生成される。
\item 観測対象として A を選択し、動作例として斜方投射を選択すると、初速を表す変数 $v_{0x}$, $v_{0y}$ が物体 A に紐付く変数として追加される。
\item 1.と2.で用意した変数を用いて以下の方程式を立式する。
\begin{itemize}
  \item $v_{Ax} = v_{0x}$
  \item $v_{Ay} = v_{0y} - gt$
  \item $x_{A} = v_{0x}t$
  \item $y_{A} = v_{0y}t - \dfrac{1}{2}gt^2$
\end{itemize}
\item $v_{Ax}$, $v_{Ay}$, $x_A$, $y_A$ を計算するのに必要な $g$, $v_{0x}$, $v_{0y}$ に値を入力する。
\item シミュレーションを再生すると、位置と速度が描画される。この際、破線で表示された正しい軌道と比較することができる。
\end{enumerate}

\subsection{誤りに気づくことができる例}
以下では、\simname を用いることで物理系を誤って定義してしまったことに気づくことができる例を紹介する。

\subsubsection*{方程式のミス}
重力加速度の向きを間違え、
\begin{itemize}
  \item $v_{Ax} = v_{0x}$
  \item $v_{Ay} = v_{0y} + gt$
  \item $x_{A} = v_{0x}t$
  \item $y_A = v_{0y}t + \dfrac{1}{2}gt^2$
\end{itemize}
のように定義すると、図~\ref{wrongmove}の実線のような軌道を描いて運動するが、これは動作例の破線と大幅に異なる。そのため、これは現実の運動を正しく表せていないことがわかる。


\subsubsection*{次元の不一致}
一般に、次元の異なる値同士の和や差を求めることはできない。そのため、方程式の立式の際に $v_{0x} + t ~\mathrm{([L/T] + [T])}$ のように次元の一致していない式を定義しようとすると、図~\ref{wrongdim}のように警告される。

\begin{figure}[htb]
\centering
\begin{minipage}{0.5\linewidth}
\includegraphics*[width=\linewidth]{work/wrong_move.png}
\caption{誤った運動の定義例} \label{wrongmove}
\end{minipage}
\quad
\begin{minipage}{0.35\linewidth}
\includegraphics*[width=\linewidth]{work/wrong_dim-crop.pdf}
\caption{誤った次元の定義例} \label{wrongdim}
\end{minipage}
\end{figure}
